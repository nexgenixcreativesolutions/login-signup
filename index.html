<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nex Genix Creative Solutions</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Existing styles remain unchanged */
    </style>
</head>
<body>

    <div class="container">
        
        <div class="section md:w-1/2">
            <h1 class="login-title">Nex Genix Creative Solutions</h1>
            <p class="description">Your Vision, Beautifully Engineered.</p>
            <form id="login-form" class="mt-6">
                <input type="text" id="login-email" placeholder="Email or phone number" class="input">
                
                <div class="input-container mt-4">
                    <input type="password" id="login-password" placeholder="Password" class="input">
                    <span class="toggle-password" onclick="togglePassword('login-password')">üëÅÔ∏è</span>
                </div>

                <button type="submit" class="button">Log In</button>
            </form>
            <p class="link" onclick="openForgotPassword()">Forgotten password?</p>
        </div>
        
        <div class="section md:w-1/2 divider">
            <h2 class="signup-title">Create an account</h2>
            <p class="description text-sm">It's quick and easy.</p>
            <form id="signup-form" class="mt-4 grid grid-cols-2 gap-3">
                <input type="text" id="first-name" placeholder="First name" class="input">
                <input type="text" id="last-name" placeholder="Last name" class="input">
                <input type="email" id="signup-email" placeholder="Email" class="input col-span-2">
                <input type="text" id="phone-number" placeholder="Phone number" class="input col-span-2">
                
                <div class="input-container col-span-2">
                    <input type="password" id="signup-password" placeholder="New password" class="input">
                    <span class="toggle-password" onclick="togglePassword('signup-password')">üëÅÔ∏è</span>
                </div>

                <div class="input-container col-span-2">
                    <input type="password" id="confirm-password" placeholder="Confirm password" class="input">
                    <span class="toggle-password" onclick="togglePassword('confirm-password')">üëÅÔ∏è</span>
                </div>

                <label for="birthdate" class="col-span-2 text-gray-400 text-sm">Birthdate</label>
                <input type="date" id="birthdate" class="input col-span-2">
                <button type="submit" class="button col-span-2">Sign Up</button>
            </form>
        </div>

    </div>

    <div id="forgot-password-modal" class="modal">
        <h2 class="text-lg font-bold text-green-400">Reset Password</h2>
        <p class="text-gray-300 text-sm mt-2">Enter your phone number to receive a reset link.</p>
        <input type="text" id="reset-phone" placeholder="Phone number" class="input">
        <button class="button" onclick="sendResetLink()">Send Link</button>
        <p class="link mt-2" onclick="closeForgotPassword()">Cancel</p>
    </div>

    <script>
        function togglePassword(id) {
            const input = document.getElementById(id);
            input.type = input.type === "password" ? "text" : "password";
        }

        function openForgotPassword() {
            document.getElementById('forgot-password-modal').classList.add('active');
        }

        function closeForgotPassword() {
            document.getElementById('forgot-password-modal').classList.remove('active');
        }

        function sendResetLink() {
            const phone = document.getElementById('reset-phone').value;
            if (phone) {
                alert(`A password reset link has been sent to ${phone}`);
                closeForgotPassword();
            } else {
                alert("Please enter your phone number.");
            }
        }

        // Intercept login form submit
        document.getElementById("login-form").addEventListener("submit", function(event) {
            event.preventDefault();

            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;

            if (email && password) {
                const userData = JSON.parse(localStorage.getItem("userData"));
                if (userData && userData.email === email && userData.password === password) {
                    localStorage.setItem("isLoggedIn", "true");
                    window.location.href = "https://nexgenixcreativesolutions.github.io/dashboard"; // Redirect to dashboard
                } else {
                    alert("Invalid credentials");
                }
            } else {
                alert("Please enter credentials.");
            }
        });

        // Intercept sign-up form submit
        document.getElementById("signup-form").addEventListener("submit", function(event) {
            event.preventDefault();

            const firstName = document.getElementById('first-name').value;
            const lastName = document.getElementById('last-name').value;
            const email = document.getElementById('signup-email').value;
            const phone = document.getElementById('phone-number').value;
            const password = document.getElementById('signup-password').value;
            const confirmPassword = document.getElementById('confirm-password').value;
            const birthdate = document.getElementById('birthdate').value;

            if (password === confirmPassword) {
                const userData = {
                    firstName,
                    lastName,
                    email,
                    phone,
                    password,
                    birthdate
                };

                localStorage.setItem("userData", JSON.stringify(userData));
                alert("Account created successfully!");

                // Simulate login after successful sign-up
                localStorage.setItem("isLoggedIn", "true");
                window.location.href = "https://nexgenixcreativesolutions.github.io/dashboard"; // Redirect to dashboard
            } else {
                alert("Passwords do not match.");
            }
        });

        // Redirect to dashboard if already logged in
        if (window.location.href.includes("login-signup") && localStorage.getItem("isLoggedIn") === "true") {
            window.location.href = "https://nexgenixcreativesolutions.github.io/dashboard";
        }

        // Logout logic (to be added to a logout button in dashboard)
        window.logout = function() {
            localStorage.removeItem("isLoggedIn");
            localStorage.removeItem("userData");
            window.location.href = "https://nexgenixcreativesolutions.github.io/login-signup/";
        }

        // Block access to protected pages
        if (
            !window.location.href.includes("login-signup") &&
            !window.location.href.includes("404") &&
            localStorage.getItem("isLoggedIn") !== "true"
        ) {
            window.location.href = "https://nexgenixcreativesolutions.github.io/login-signup/";
        }
    </script>

</body>
</html>
